<template>
    <div class="wrapper">
        <Header :is-login="isLogin"></Header>
        <main-player></main-player>
        <div class="container">
            <div class="main">
                <section class="main__section1">
                    <div class="BG" style="background-image:url('https://images.unsplash.com/photo-1559060680-36abfac01944?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80')"></div>
                    <div class="filter"></div>
                    <div class="wrap">
                        <header class="main__section1-title" style="margin-bottom:-80px;"></header>
                        <div class="videolist">
                            <div class="head">
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1522536421511-14c9073df899?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1471565661762-b9dfae862dbe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1529518969858-8baa65152fc8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="body">
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1460723237483-7a6dc9d0b212?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/flagged/photo-1568967010765-40b6ec2b5fa5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1581503589702-b21c6a3f0879?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1577205341591-846f4dfe6d8c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1368&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1560258629-d26e9fa12ae3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                                <div class="block">
                                    <div>
                                        <img src="https://images.unsplash.com/photo-1525439979024-1df959dde396?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1353&q=80"/>
                                        <div class="play">
                                            <img src="/assets/images/icon/hover_play.png">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="title">[비트썸바디] 비트메이커 KKOMA 인터뷰</div>
                                        <div class="desc">
                                            Beat someone에서 만난 비트메이커 KKOMA!<br/>
                                            그의 비트에 대한 철학과 아끼는 비트 BEST 3를 만나보세요.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <Footer></Footer>
                </section>
            </div>
        </div>
    </div>
</template>

<script>

    require('@/assets/js/function');

    import Header from "@/views/beatsomeone/basic/include/Header";
    import Footer from "@/views/beatsomeone/basic/include/Footer";
    import { EventBus } from '*/src/eventbus';

    export default {
        components: {
            Header, Footer
        },
        data: function() {
            return {
                info: {},
                isLogin: false,
            }
        },
        created() {
            EventBus.$on('submit_join_form', d => {
               Object.assign(this.info,d);
            });
            EventBus.$on('finish_join_form', d => {
                Object.assign(this.info,d);
                this.doJoin();
            });

        },
        mounted() {
            // 중간 리프레시 초기화
            if(this.$router.currentRoute.path != '/') {
                this.$router.push({path: '/'});
            }

        },
        watch: {

        },
        methods: {
            doJoin() {
                const form = {
                    user_type: this.info.userType,
                    mem_userid : this.info.username,
                    mem_nickname : this.info.username,
                    mem_password : this.info.password,
                    mem_username : this.info.firstname + this.info.lastname,
                    mem_email : this.info.email,
                    mem_address1 : this.info.location,
                    mem_profile_content : this.info.introduce,
                    mem_musician_bank : this.info.mem_musician_bank,
                    mem_musician_account_nm : this.info.mem_musician_account_nm,
                    mem_musician_account : this.info.mem_musician_account,
                    promo_code : this.info.promo_code
                };

                console.log(form);

                Http.post('/register/ajax_form_user',form).then(r => {
                    alert(this.$t('registerSuccess')) ;
                    //window.location.href = '/';
                    this.$router.push({path: '/6'});
                },e => {
                    alert(this.$t('registerFail'));
                });
            },
        },
    }
</script>

<style lang="scss">
    @import '@/assets/scss/App.scss';
</style>

<style lang="css">

</style>
